

<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="../">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Package VOX Real-time Transcription &mdash; Bob&#39;s Handbuch 0.1 documentation</title>
      <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=80d5e7a1" />
      <link rel="stylesheet" type="text/css" href="../_static/css/theme.css?v=9edc463e" />
      <link rel="stylesheet" type="text/css" href="../_static/graphviz.css?v=4ae1632d" />
      <link rel="stylesheet" type="text/css" href="../_static/custom.css?v=0603aa02" />

  
    <link rel="shortcut icon" href="../_static/profile_image-300x300.png"/>
      <script src="../_static/jquery.js?v=5d32c60e"></script>
      <script src="../_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
      <script src="../_static/documentation_options.js?v=2709fde1"></script>
      <script src="../_static/doctools.js?v=fd6eb6e6"></script>
      <script src="../_static/sphinx_highlight.js?v=6ffebe34"></script>
    <script src="../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="API Reference" href="../autoapi/index.html" />
    <link rel="prev" title="ROS Package VoskRos" href="voskros.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../index.html" class="icon icon-home">
            Bob's Handbuch
              <img src="../_static/bob_vv.gif" class="logo" alt="Logo"/>
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Packages</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="bob-coquitts.html">ROS Package bob_coquitts</a></li>
<li class="toctree-l1"><a class="reference internal" href="bob-flux2.html">ROS Package bob_flux2</a></li>
<li class="toctree-l1"><a class="reference internal" href="bob-flux2k.html">ROS Package bob_flux2k</a></li>
<li class="toctree-l1"><a class="reference internal" href="bob-launch.html">ROS Package bob_launch</a></li>
<li class="toctree-l1"><a class="reference internal" href="bob-llm.html">ROS Package bob_llm</a></li>
<li class="toctree-l1"><a class="reference internal" href="bob-moondream.html">ROS Package bob_moondream</a></li>
<li class="toctree-l1"><a class="reference internal" href="bob-moondream-msgs.html">ROS Package bob_moondream_msgs</a></li>
<li class="toctree-l1"><a class="reference internal" href="bob-msgs.html">ROS Package bob_msgs</a></li>
<li class="toctree-l1"><a class="reference internal" href="bob-sd35.html">ROS Package bob_sd35</a></li>
<li class="toctree-l1"><a class="reference internal" href="bob-topic-tools.html">ROS Package bob_topic_tools</a></li>
<li class="toctree-l1"><a class="reference internal" href="bob-vector-db.html">ROS Package bob_vector_db</a></li>
<li class="toctree-l1"><a class="reference internal" href="voskros.html">ROS Package VoskRos</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">OTHER</span></p>
<ul class="current">
<li class="toctree-l1 current"><a class="current reference internal" href="#">Package VOX Real-time Transcription</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#key-features">Key Features</a></li>
<li class="toctree-l2"><a class="reference internal" href="#installation">Installation</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#method-1-from-pypi-recommended-for-users">Method 1: From PyPI (Recommended for Users)</a></li>
<li class="toctree-l3"><a class="reference internal" href="#method-2-from-github-latest-development-version">Method 2: From GitHub (Latest Development Version)</a></li>
<li class="toctree-l3"><a class="reference internal" href="#method-3-from-source-for-developers">Method 3: From Source (For Developers)</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#using-vox-as-a-standalone-tool">1. Using Vox as a Standalone Tool</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#quick-start-with-docker">Quick Start with Docker</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#system-requirements">System Requirements</a></li>
<li class="toctree-l4"><a class="reference internal" href="#option-1-use-the-pre-built-image-from-ghcr-recommended-for-users">Option 1: Use the Pre-built Image from GHCR (Recommended for Users)</a></li>
<li class="toctree-l4"><a class="reference internal" href="#option-2-build-from-source-for-developers">Option 2: Build from Source (For Developers)</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#using-vox-as-a-python-library">2. Using Vox as a Python Library</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id1">Installation</a></li>
<li class="toctree-l3"><a class="reference internal" href="#example-usage">Example Usage</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#dependencies-and-manual-installation">Dependencies and Manual Installation</a></li>
<li class="toctree-l2"><a class="reference internal" href="#configuration-usage-examples">Configuration &amp; Usage Examples</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#example-1-basic-english-transcription">Example 1: Basic English Transcription</a></li>
<li class="toctree-l3"><a class="reference internal" href="#example-2-high-quality-german-transcription">Example 2: High-Quality German Transcription</a></li>
<li class="toctree-l3"><a class="reference internal" href="#example-3-multiple-outputs-console-and-file">Example 3: Multiple Outputs (Console and File)</a></li>
<li class="toctree-l3"><a class="reference internal" href="#example-4-webhook-integration-for-an-api">Example 4: Webhook Integration for an API</a></li>
<li class="toctree-l3"><a class="reference internal" href="#example-5-using-a-custom-handler-script">Example 5: Using a Custom Handler Script</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#the-output-handler-system">The Output Handler System</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#built-in-handlers">Built-in Handlers</a></li>
<li class="toctree-l3"><a class="reference internal" href="#loading-a-custom-handler-from-a-script">Loading a Custom Handler from a Script</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#troubleshooting">Troubleshooting</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#audio-quality-issues-slow-fast-audio">Audio Quality Issues (Slow/Fast Audio)</a></li>
<li class="toctree-l3"><a class="reference internal" href="#alsa-lib-errors-at-startup">ALSA lib Errors at Startup</a></li>
<li class="toctree-l3"><a class="reference internal" href="#windows-support">Windows Support</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#cli-arguments-reference-table">CLI Arguments Reference Table</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#handler-specific-arguments">Handler-Specific Arguments</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#file-handler"><code class="docutils literal notranslate"><span class="pre">file</span></code> handler</a></li>
<li class="toctree-l4"><a class="reference internal" href="#http-post-handler"><code class="docutils literal notranslate"><span class="pre">http_post</span></code> handler</a></li>
<li class="toctree-l4"><a class="reference internal" href="#ros2-handler"><code class="docutils literal notranslate"><span class="pre">ros2</span></code> handler</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#robust-configuration-examples">Robust Configuration Examples</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#reducing-hallucinations-repetitions">1. Reducing Hallucinations (Repetitions)</a></li>
<li class="toctree-l3"><a class="reference internal" href="#improving-context-and-style">2. Improving Context and Style</a></li>
<li class="toctree-l3"><a class="reference internal" href="#maximizing-accuracy-slower">3. Maximizing Accuracy (Slower)</a></li>
<li class="toctree-l3"><a class="reference internal" href="#low-resource-compatibility-mode">4. Low-Resource / Compatibility Mode</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../autoapi/index.html">API Reference</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">Bob's Handbuch</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../index.html" class="icon icon-home" aria-label="Home"></a></li>
      <li class="breadcrumb-item active">Package VOX Real-time Transcription</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../_sources/bob/vox.md.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="package-vox-real-time-transcription">
<h1>Package <a class="reference external" href="https://github.com/bob-ros2/vox">VOX</a> Real-time Transcription<a class="headerlink" href="#package-vox-real-time-transcription" title="Link to this heading"></a></h1>
<p>Vox is a powerful, real-time audio transcription tool and Python library that uses OpenAI’s Whisper model. It continuously listens to a microphone, detects speech, transcribes it upon pauses, and forwards the resulting text to one or more configurable destinations using a highly extensible, pluggable output system.</p>
<p>The project is designed to be used in two primary ways:</p>
<ol class="arabic simple">
<li><p><strong>As a standalone command-line tool</strong>, easily deployed with Docker.</p></li>
<li><p><strong>As a Python library</strong>, allowing you to integrate real-time transcription directly into your own applications.</p></li>
</ol>
<section id="key-features">
<h2>Key Features<a class="headerlink" href="#key-features" title="Link to this heading"></a></h2>
<ul class="simple">
<li><p><strong>Real-time Transcription</strong>: Listens to an audio input and transcribes speech in near real-time.</p></li>
<li><p><strong>Dual Use</strong>: Functions as both a ready-to-run CLI tool and an importable Python library.</p></li>
<li><p><strong>Voice Activity Detection</strong>: Intelligently waits for pauses in speech before transcribing, improving accuracy and reducing unnecessary processing.</p></li>
<li><p><strong>Pluggable Output System</strong>: Send transcribed text to the console, files, HTTP webhooks, ROS2 topics, and more simultaneously.</p></li>
<li><p><strong>Fully Extensible</strong>: Load your own custom output handlers from a local script file without modifying the core code.</p></li>
<li><p><strong>Highly Configurable</strong>: Adjust silence thresholds, language, Whisper model size, and more via command-line arguments.</p></li>
<li><p><strong>Dockerized</strong>: Comes with a <code class="docutils literal notranslate"><span class="pre">Dockerfile</span></code> and <code class="docutils literal notranslate"><span class="pre">docker-compose.yaml</span></code> for easy, cross-platform deployment.</p></li>
<li><p><strong>GPU Acceleration</strong>: Natively supports NVIDIA GPU acceleration via Docker for significantly faster transcription.</p></li>
</ul>
</section>
<hr class="docutils" />
<section id="installation">
<h2>Installation<a class="headerlink" href="#installation" title="Link to this heading"></a></h2>
<p>There are three ways to install Vox for local use, depending on your needs. For all methods, please first review the <strong>Dependencies and Manual Installation</strong> section below.</p>
<section id="method-1-from-pypi-recommended-for-users">
<h3>Method 1: From PyPI (Recommended for Users)<a class="headerlink" href="#method-1-from-pypi-recommended-for-users" title="Link to this heading"></a></h3>
<p>This is the easiest and most standard way to get the latest stable version. It will automatically make the <code class="docutils literal notranslate"><span class="pre">vox</span></code> command available in your terminal.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>pip<span class="w"> </span>install<span class="w"> </span>vox-real
</pre></div>
</div>
</section>
<section id="method-2-from-github-latest-development-version">
<h3>Method 2: From GitHub (Latest Development Version)<a class="headerlink" href="#method-2-from-github-latest-development-version" title="Link to this heading"></a></h3>
<p>If you want the absolute latest features or fixes that haven’t been published to PyPI yet, you can install directly from the GitHub repository.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>pip<span class="w"> </span>install<span class="w"> </span>git+https://github.com/bob-ros2/vox
</pre></div>
</div>
</section>
<section id="method-3-from-source-for-developers">
<h3>Method 3: From Source (For Developers)<a class="headerlink" href="#method-3-from-source-for-developers" title="Link to this heading"></a></h3>
<p>If you have cloned the repository and want to modify the code, install it in “editable” mode. This links the <code class="docutils literal notranslate"><span class="pre">vox</span></code> command to your source files, so your changes are reflected immediately.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="c1"># From the root of the cloned repository</span>
pip<span class="w"> </span>install<span class="w"> </span>-e<span class="w"> </span>.
</pre></div>
</div>
</section>
</section>
<hr class="docutils" />
<section id="using-vox-as-a-standalone-tool">
<h2>1. Using Vox as a Standalone Tool<a class="headerlink" href="#using-vox-as-a-standalone-tool" title="Link to this heading"></a></h2>
<p>This is the recommended method for end-users who want a running transcription service.</p>
<section id="quick-start-with-docker">
<h3>Quick Start with Docker<a class="headerlink" href="#quick-start-with-docker" title="Link to this heading"></a></h3>
<section id="system-requirements">
<h4>System Requirements<a class="headerlink" href="#system-requirements" title="Link to this heading"></a></h4>
<ul class="simple">
<li><p>Docker &amp; Docker Compose</p></li>
<li><p>A working microphone accessible by the host system.</p></li>
<li><p>(Recommended) An NVIDIA GPU with the <a class="reference external" href="https://docs.nvidia.com/datacenter/cloud-native/container-toolkit/latest/install-guide.html">NVIDIA Container Toolkit</a>.</p></li>
<li><p>Linux (recommended, for easy PulseAudio integration).</p></li>
</ul>
</section>
<section id="option-1-use-the-pre-built-image-from-ghcr-recommended-for-users">
<h4>Option 1: Use the Pre-built Image from GHCR (Recommended for Users)<a class="headerlink" href="#option-1-use-the-pre-built-image-from-ghcr-recommended-for-users" title="Link to this heading"></a></h4>
<p>This is the fastest way to get started. It pulls the ready-to-use Docker image directly from the GitHub Container Registry, skipping the local build process.</p>
<ol class="arabic">
<li><p><strong>Create a Local Directory for Models</strong>
Whisper models will be downloaded and cached here to persist between container runs.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>mkdir<span class="w"> </span>-p<span class="w"> </span>./models
</pre></div>
</div>
</li>
<li><p><strong>Pull and Run the Image</strong>
Copy and paste the command below into your terminal. It replicates the setup from <code class="docutils literal notranslate"><span class="pre">docker-compose.yaml</span></code>, including audio and optional GPU support.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>docker<span class="w"> </span>run<span class="w"> </span>-it<span class="w"> </span>--rm<span class="w"> </span><span class="se">\</span>
<span class="w">  </span>--gpus<span class="w"> </span>all<span class="w"> </span><span class="se">\</span>
<span class="w">  </span>-v<span class="w"> </span><span class="s2">&quot;</span><span class="si">${</span><span class="nv">XDG_RUNTIME_DIR</span><span class="si">}</span><span class="s2">/pulse/native:/run/pulse/native&quot;</span><span class="w"> </span><span class="se">\</span>
<span class="w">  </span>-v<span class="w"> </span><span class="s2">&quot;/etc/machine-id:/etc/machine-id:ro&quot;</span><span class="w"> </span><span class="se">\</span>
<span class="w">  </span>-v<span class="w"> </span><span class="s2">&quot;./models:/models&quot;</span><span class="w"> </span><span class="se">\</span>
<span class="w">  </span>ghcr.io/bob-ros2/vox/vox-real:latest<span class="w"> </span><span class="se">\</span>
<span class="w">  </span>vox<span class="w"> </span>--model-dir<span class="w"> </span>/models<span class="w"> </span>--model<span class="w"> </span>base<span class="w"> </span>--lang<span class="w"> </span>en<span class="w"> </span>--rms
</pre></div>
</div>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">--gpus</span> <span class="pre">all</span></code>: <strong>(Optional)</strong> Provides NVIDIA GPU acceleration. Remove this flag if you don’t have an NVIDIA GPU or the NVIDIA Container Toolkit.</p></li>
<li><p>The <code class="docutils literal notranslate"><span class="pre">-v</span></code> flags are essential for mounting your system’s audio socket and the local <code class="docutils literal notranslate"><span class="pre">models</span></code> directory into the container.</p></li>
<li><p>You can customize the transcription arguments (like <code class="docutils literal notranslate"><span class="pre">--model</span></code>, <code class="docutils literal notranslate"><span class="pre">--lang</span></code>, etc.) at the end of the command.</p></li>
</ul>
</li>
</ol>
</section>
<section id="option-2-build-from-source-for-developers">
<h4>Option 2: Build from Source (For Developers)<a class="headerlink" href="#option-2-build-from-source-for-developers" title="Link to this heading"></a></h4>
<p>This method builds the Docker image locally. It’s best if you plan to modify the code.</p>
<ol class="arabic">
<li><p><strong>Clone the Repository</strong></p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>git<span class="w"> </span>clone<span class="w"> </span>https://github.com/bob-ros2/vox
<span class="nb">cd</span><span class="w"> </span>vox
</pre></div>
</div>
</li>
<li><p><strong>Create the Environment File</strong>
The Docker container needs your user ID to access the PulseAudio audio socket.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="nb">echo</span><span class="w"> </span>-e<span class="w"> </span><span class="s2">&quot;UID=</span><span class="k">$(</span>id<span class="w"> </span>-u<span class="k">)</span><span class="s2">\nGID=</span><span class="k">$(</span>id<span class="w"> </span>-g<span class="k">)</span><span class="s2">&quot;</span><span class="w"> </span>&gt;<span class="w"> </span>.env
</pre></div>
</div>
</li>
<li><p><strong>Configure and Run</strong>
Modify the <code class="docutils literal notranslate"><span class="pre">command</span></code> in <code class="docutils literal notranslate"><span class="pre">docker-compose.yaml</span></code> to suit your needs, then build and run the container.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>docker-compose<span class="w"> </span>up<span class="w"> </span>--build
</pre></div>
</div>
<p>The application will start, download the Whisper model on the first run, and begin listening. Speak into your microphone, and after you pause, the transcription will be sent to the configured handlers. Press <code class="docutils literal notranslate"><span class="pre">Ctrl+C</span></code> to stop.</p>
</li>
</ol>
</section>
</section>
</section>
<hr class="docutils" />
<section id="using-vox-as-a-python-library">
<h2>2. Using Vox as a Python Library<a class="headerlink" href="#using-vox-as-a-python-library" title="Link to this heading"></a></h2>
<p>You can import the <code class="docutils literal notranslate"><span class="pre">Transcriber</span></code> class to integrate real-time transcription into your own Python projects.</p>
<section id="id1">
<h3>Installation<a class="headerlink" href="#id1" title="Link to this heading"></a></h3>
<p>Please follow one of the methods described in the <strong>Installation</strong> section above to install the library.</p>
</section>
<section id="example-usage">
<h3>Example Usage<a class="headerlink" href="#example-usage" title="Link to this heading"></a></h3>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># my_app.py</span>
<span class="kn">from</span> <span class="nn">vox.core</span> <span class="kn">import</span> <span class="n">Transcriber</span>
<span class="kn">import</span> <span class="nn">time</span>

<span class="k">def</span> <span class="nf">handle_transcription</span><span class="p">(</span><span class="n">text</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;This function will be called with each new transcription.&quot;&quot;&quot;</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;My application received: </span><span class="si">{</span><span class="n">text</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

<span class="c1"># Configuration dictionary (see CLI arguments table for all options)</span>
<span class="n">my_config</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s2">&quot;model&quot;</span><span class="p">:</span> <span class="s2">&quot;base&quot;</span><span class="p">,</span>
    <span class="s2">&quot;lang&quot;</span><span class="p">:</span> <span class="s2">&quot;en&quot;</span><span class="p">,</span>
    <span class="s2">&quot;threshold&quot;</span><span class="p">:</span> <span class="mi">1000</span><span class="p">,</span>
    <span class="s2">&quot;silence_threshold&quot;</span><span class="p">:</span> <span class="mi">150</span><span class="p">,</span>
    <span class="c1"># ... other parameters</span>
<span class="p">}</span>

<span class="k">try</span><span class="p">:</span>
    <span class="c1"># Instantiate the transcriber with your config and callback</span>
    <span class="n">transcriber</span> <span class="o">=</span> <span class="n">Transcriber</span><span class="p">(</span><span class="n">config</span><span class="o">=</span><span class="n">my_config</span><span class="p">,</span> <span class="n">on_transcription_cb</span><span class="o">=</span><span class="n">handle_transcription</span><span class="p">)</span>
    
    <span class="c1"># Run the transcription loop (this is a blocking call)</span>
    <span class="n">transcriber</span><span class="o">.</span><span class="n">run</span><span class="p">()</span>

<span class="k">except</span> <span class="ne">KeyboardInterrupt</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Stopping transcription.&quot;</span><span class="p">)</span>
<span class="k">finally</span><span class="p">:</span>
    <span class="k">if</span> <span class="s1">&#39;transcriber&#39;</span> <span class="ow">in</span> <span class="nb">locals</span><span class="p">():</span>
        <span class="n">transcriber</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
</pre></div>
</div>
</section>
</section>
<hr class="docutils" />
<section id="dependencies-and-manual-installation">
<h2>Dependencies and Manual Installation<a class="headerlink" href="#dependencies-and-manual-installation" title="Link to this heading"></a></h2>
<p>While <strong>Docker is the recommended, hassle-free method</strong>, you can install Vox locally. This requires some system-level setup.</p>
<ol class="arabic">
<li><p><strong>Install PortAudio</strong>: <code class="docutils literal notranslate"><span class="pre">pyaudio</span></code> requires the PortAudio C library.</p>
<ul class="simple">
<li><p><strong>Debian/Ubuntu</strong>: <code class="docutils literal notranslate"><span class="pre">sudo</span> <span class="pre">apt-get</span> <span class="pre">install</span> <span class="pre">portaudio19-dev</span></code></p></li>
<li><p><strong>macOS (Homebrew)</strong>: <code class="docutils literal notranslate"><span class="pre">brew</span> <span class="pre">install</span> <span class="pre">portaudio</span></code></p></li>
</ul>
</li>
<li><p><strong>Install Python Dependencies</strong>: It is highly recommended to use a virtual environment.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>pip<span class="w"> </span>install<span class="w"> </span>vox-real
</pre></div>
</div>
</li>
</ol>
<p><strong>Note on <code class="docutils literal notranslate"><span class="pre">torch</span></code></strong>: Whisper depends on PyTorch (<code class="docutils literal notranslate"><span class="pre">torch</span></code>), which can be complex to install, especially for GPU support. If you encounter issues, we strongly recommend following the official instructions at <a class="reference external" href="https://pytorch.org/get-started/locally/">pytorch.org</a> or using the provided Docker setup.</p>
</section>
<hr class="docutils" />
<section id="configuration-usage-examples">
<h2>Configuration &amp; Usage Examples<a class="headerlink" href="#configuration-usage-examples" title="Link to this heading"></a></h2>
<p>All settings are controlled via command-line arguments. These examples can be run directly (e.g., <code class="docutils literal notranslate"><span class="pre">vox</span> <span class="pre">[args...]</span></code>) or adapted for the <code class="docutils literal notranslate"><span class="pre">command</span></code> section in <code class="docutils literal notranslate"><span class="pre">docker-compose.yaml</span></code>.</p>
<section id="example-1-basic-english-transcription">
<h3>Example 1: Basic English Transcription<a class="headerlink" href="#example-1-basic-english-transcription" title="Link to this heading"></a></h3>
<p>This is the simplest way to start. It uses the small <code class="docutils literal notranslate"><span class="pre">base</span></code> model and automatically detects the language.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>vox<span class="w"> </span>--model<span class="w"> </span>base<span class="w"> </span>--rms
</pre></div>
</div>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">--model</span> <span class="pre">base</span></code>: Uses the fast but less accurate <code class="docutils literal notranslate"><span class="pre">base</span></code> model.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">--rms</span></code>: Shows the real-time audio volume, helping you tune the silence threshold.</p></li>
</ul>
</section>
<section id="example-2-high-quality-german-transcription">
<h3>Example 2: High-Quality German Transcription<a class="headerlink" href="#example-2-high-quality-german-transcription" title="Link to this heading"></a></h3>
<p>For more accurate results, use a larger model and specify the language.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>vox<span class="w"> </span>--model<span class="w"> </span>medium<span class="w"> </span>--lang<span class="w"> </span>de
</pre></div>
</div>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">--model</span> <span class="pre">medium</span></code>: Uses the larger, more accurate <code class="docutils literal notranslate"><span class="pre">medium</span></code> model.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">--lang</span> <span class="pre">de</span></code>: Sets the transcription language to German, improving accuracy and avoiding misidentification.</p></li>
</ul>
</section>
<section id="example-3-multiple-outputs-console-and-file">
<h3>Example 3: Multiple Outputs (Console and File)<a class="headerlink" href="#example-3-multiple-outputs-console-and-file" title="Link to this heading"></a></h3>
<p>Send transcriptions to both your terminal and a log file simultaneously.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>vox<span class="w"> </span>--output-handlers<span class="w"> </span>stdout<span class="w"> </span>file
</pre></div>
</div>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">--output-handlers</span> <span class="pre">stdout</span> <span class="pre">file</span></code>: Activates both the console and file handlers. Transcriptions will be printed and also appended to <code class="docutils literal notranslate"><span class="pre">transcriptions.txt</span></code>.</p></li>
</ul>
</section>
<section id="example-4-webhook-integration-for-an-api">
<h3>Example 4: Webhook Integration for an API<a class="headerlink" href="#example-4-webhook-integration-for-an-api" title="Link to this heading"></a></h3>
<p>Send every transcription to a web server using the <code class="docutils literal notranslate"><span class="pre">http_post</span></code> handler.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>vox<span class="w"> </span>--model<span class="w"> </span>small<span class="w"> </span>--output-handlers<span class="w"> </span>http_post<span class="w"> </span>--http-post-url<span class="w"> </span><span class="s2">&quot;http://localhost:8000/api/transcribe&quot;</span>
</pre></div>
</div>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">--output-handlers</span> <span class="pre">http_post</span></code>: Activates the HTTP handler.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">--http-post-url</span> <span class="pre">&quot;...&quot;</span></code>: (Required for <code class="docutils literal notranslate"><span class="pre">http_post</span></code>) Specifies the endpoint to send data to.</p></li>
</ul>
</section>
<section id="example-5-using-a-custom-handler-script">
<h3>Example 5: Using a Custom Handler Script<a class="headerlink" href="#example-5-using-a-custom-handler-script" title="Link to this heading"></a></h3>
<p>Load a custom handler from a local file for ultimate flexibility.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>vox<span class="w"> </span>--output-handlers<span class="w"> </span>stdout<span class="w"> </span>--custom-handler<span class="w"> </span>./my_custom_logger.py
</pre></div>
</div>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">--custom-handler</span> <span class="pre">...</span></code>: Loads the <code class="docutils literal notranslate"><span class="pre">OutputHandler</span></code> class from the specified Python file and adds it to the list of active handlers.</p></li>
</ul>
</section>
</section>
<hr class="docutils" />
<section id="the-output-handler-system">
<h2>The Output Handler System<a class="headerlink" href="#the-output-handler-system" title="Link to this heading"></a></h2>
<p>Vox can send transcriptions to multiple destinations at once.</p>
<section id="built-in-handlers">
<h3>Built-in Handlers<a class="headerlink" href="#built-in-handlers" title="Link to this heading"></a></h3>
<ul class="simple">
<li><p><strong><code class="docutils literal notranslate"><span class="pre">stdout</span></code></strong>: Prints to the console.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">file</span></code></strong>: Appends to <code class="docutils literal notranslate"><span class="pre">transcriptions.txt</span></code> with a timestamp.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">http_post</span></code></strong>: Sends a POST request to a URL. Perfect for webhooks. (Requires <code class="docutils literal notranslate"><span class="pre">requests</span></code>)</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">ros2</span></code></strong>: Publishes to a ROS2 topic. Fails gracefully if ROS2 libraries are not installed.</p></li>
</ul>
</section>
<section id="loading-a-custom-handler-from-a-script">
<h3>Loading a Custom Handler from a Script<a class="headerlink" href="#loading-a-custom-handler-from-a-script" title="Link to this heading"></a></h3>
<p>This is the most powerful feature for custom integrations.</p>
<ol class="arabic">
<li><p><strong>Create a Handler File</strong> (e.g., <code class="docutils literal notranslate"><span class="pre">my_db_logger.py</span></code>) with an <code class="docutils literal notranslate"><span class="pre">OutputHandler</span></code> class.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># my_db_logger.py</span>
<span class="k">class</span> <span class="nc">OutputHandler</span><span class="p">:</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;My DB logger is ready!&quot;</span><span class="p">)</span>
    <span class="k">def</span> <span class="nf">send</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">text</span><span class="p">):</span>
        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;LOGGING TO DB: </span><span class="si">{</span><span class="n">text</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
    <span class="k">def</span> <span class="nf">close</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Closing DB connection.&quot;</span><span class="p">)</span>
</pre></div>
</div>
</li>
<li><p><strong>Mount the Script in Docker</strong> and provide the path to the <code class="docutils literal notranslate"><span class="pre">--custom-handler</span></code> argument.</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="c1"># docker-compose.yaml</span>
<span class="nt">services</span><span class="p">:</span>
<span class="w">  </span><span class="nt">listener</span><span class="p">:</span>
<span class="w">    </span><span class="nt">volumes</span><span class="p">:</span>
<span class="w">      </span><span class="c1"># ... other volumes</span>
<span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">./my_db_logger.py:/app/my_db_logger.py</span>
<span class="w">    </span><span class="nt">command</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">[</span><span class="s">&quot;python&quot;</span><span class="p p-Indicator">,</span><span class="w"> </span><span class="s">&quot;-m&quot;</span><span class="p p-Indicator">,</span><span class="w"> </span><span class="s">&quot;vox.cli&quot;</span><span class="p p-Indicator">,</span>
<span class="w">              </span><span class="s">&quot;--output-handlers&quot;</span><span class="p p-Indicator">,</span><span class="w"> </span><span class="s">&quot;stdout&quot;</span><span class="p p-Indicator">,</span>
<span class="w">              </span><span class="s">&quot;--custom-handler&quot;</span><span class="p p-Indicator">,</span><span class="w"> </span><span class="s">&quot;/app/my_db_logger.py&quot;</span>
<span class="w">    </span>
</pre></div>
</div>
</li>
</ol>
</section>
</section>
<hr class="docutils" />
<section id="troubleshooting">
<h2>Troubleshooting<a class="headerlink" href="#troubleshooting" title="Link to this heading"></a></h2>
<section id="audio-quality-issues-slow-fast-audio">
<h3>Audio Quality Issues (Slow/Fast Audio)<a class="headerlink" href="#audio-quality-issues-slow-fast-audio" title="Link to this heading"></a></h3>
<p>If you experience poor transcription quality or the audio sounds slowed down or sped up, it is likely due to a sample rate mismatch.</p>
<ul class="simple">
<li><p><strong>Symptom</strong>: Transcription is gibberish or non-existent, and if you listen to the raw audio, it sounds pitch-shifted.</p></li>
<li><p><strong>Cause</strong>: The Whisper model expects audio at 16000 Hz. If your input device or the application is configured for a different rate (e.g., 44100 Hz or 48000 Hz) without proper resampling, the audio data will be misinterpreted.</p></li>
<li><p><strong>Solution</strong>: Ensure the <code class="docutils literal notranslate"><span class="pre">--rate</span></code> argument matches what Whisper expects (default is 16000 Hz). If you are using a custom setup or specific hardware that requires a different rate, you may need to force the rate using <code class="docutils literal notranslate"><span class="pre">--rate</span> <span class="pre">16000</span></code>.</p></li>
</ul>
</section>
<section id="alsa-lib-errors-at-startup">
<h3>ALSA lib Errors at Startup<a class="headerlink" href="#alsa-lib-errors-at-startup" title="Link to this heading"></a></h3>
<p>You may see various <code class="docutils literal notranslate"><span class="pre">ALSA</span> <span class="pre">lib</span></code> errors (e.g., <code class="docutils literal notranslate"><span class="pre">unable</span> <span class="pre">to</span> <span class="pre">open</span> <span class="pre">slave</span></code>, <code class="docutils literal notranslate"><span class="pre">Unknown</span> <span class="pre">PCM</span></code>, <code class="docutils literal notranslate"><span class="pre">Cannot</span> <span class="pre">open</span> <span class="pre">device</span></code>) when <code class="docutils literal notranslate"><span class="pre">vox</span></code> starts up. These are generated by the underlying audio library (<code class="docutils literal notranslate"><span class="pre">pyaudio</span></code>/PortAudio) as it probes for available devices. <strong>These errors are usually harmless and do not impact functionality.</strong> If the application prints “Ready. Start speaking…”, it is working correctly.</p>
</section>
<section id="windows-support">
<h3>Windows Support<a class="headerlink" href="#windows-support" title="Link to this heading"></a></h3>
<p>Vox is compatible with Windows.</p>
<ul class="simple">
<li><p><strong>ALSA Errors</strong>: You will not see ALSA errors on Windows, as ALSA is Linux-specific.</p></li>
<li><p><strong>Dependencies</strong>: You may need to install <code class="docutils literal notranslate"><span class="pre">ffmpeg</span></code> manually and add it to your PATH, as it is required by Whisper.</p></li>
<li><p><strong>ROS2</strong>: The <code class="docutils literal notranslate"><span class="pre">ros2</span></code> handler works on Windows if a compatible ROS2 distribution (e.g., Humble) is installed and sourced.</p></li>
</ul>
</section>
</section>
<hr class="docutils" />
<section id="cli-arguments-reference-table">
<h2>CLI Arguments Reference Table<a class="headerlink" href="#cli-arguments-reference-table" title="Link to this heading"></a></h2>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Argument</p></th>
<th class="head"><p>Default</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">-m</span></code>, <code class="docutils literal notranslate"><span class="pre">--model</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">base</span></code></p></td>
<td><p>Whisper model to use (<code class="docutils literal notranslate"><span class="pre">tiny</span></code>, <code class="docutils literal notranslate"><span class="pre">base</span></code>, <code class="docutils literal notranslate"><span class="pre">small</span></code>, <code class="docutils literal notranslate"><span class="pre">medium</span></code>, <code class="docutils literal notranslate"><span class="pre">large</span></code>).</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">-g</span></code>, <code class="docutils literal notranslate"><span class="pre">--lang</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">None</span></code></p></td>
<td><p>Language code (<code class="docutils literal notranslate"><span class="pre">en</span></code>, <code class="docutils literal notranslate"><span class="pre">de</span></code>). <code class="docutils literal notranslate"><span class="pre">None</span></code> for auto-detection.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">-t</span></code>, <code class="docutils literal notranslate"><span class="pre">--threshold</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">1000</span></code></p></td>
<td><p>Pause duration in ms to trigger transcription.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">-s</span></code>, <code class="docutils literal notranslate"><span class="pre">--silence-threshold</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">20</span></code></p></td>
<td><p>RMS audio level below which is considered silence.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">-d</span></code>, <code class="docutils literal notranslate"><span class="pre">--device</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">None</span></code></p></td>
<td><p>Index of the audio input device.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">-c</span></code>, <code class="docutils literal notranslate"><span class="pre">--chunk-size</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">1024</span></code></p></td>
<td><p>Samples per audio chunk. Lower is more responsive.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">--model-dir</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">None</span></code></p></td>
<td><p>Directory to store/load Whisper models.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">-p</span></code>, <code class="docutils literal notranslate"><span class="pre">--pre-buffer</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">5</span></code></p></td>
<td><p>Chunks to keep before speech starts to avoid clipped words.</p></td>
</tr>
<tr class="row-even"><td><p>-w<code class="docutils literal notranslate"><span class="pre">,</span> </code>–warmup`</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">2</span></code></p></td>
<td><p>Consecutive loud chunks to start recording.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">-r</span></code>, <code class="docutils literal notranslate"><span class="pre">--rms</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">False</span></code></p></td>
<td><p>Show real-time audio volume (RMS).</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">--channels</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">1</span></code></p></td>
<td><p>Number of audio channels.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">--rate</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">16000</span></code></p></td>
<td><p>Audio sample rate in Hz.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">--whisper-device</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">None</span></code></p></td>
<td><p>Device to use for Whisper inference (<code class="docutils literal notranslate"><span class="pre">cpu</span></code>, <code class="docutils literal notranslate"><span class="pre">cuda</span></code>, <code class="docutils literal notranslate"><span class="pre">cuda:0</span></code>). <code class="docutils literal notranslate"><span class="pre">None</span></code> for auto-detect.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">--output-handlers</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">stdout</span></code></p></td>
<td><p>A space-separated list of built-in handlers to use. Built in: <code class="docutils literal notranslate"><span class="pre">stdout</span></code>, <code class="docutils literal notranslate"><span class="pre">file</span></code>, <code class="docutils literal notranslate"><span class="pre">ros2</span></code></p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">--custom-handler</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">None</span></code></p></td>
<td><p>Path to a Python script with a custom <code class="docutils literal notranslate"><span class="pre">OutputHandler</span></code>.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">-l</span></code>, <code class="docutils literal notranslate"><span class="pre">--list-devices</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">False</span></code></p></td>
<td><p>List available audio input devices and exit.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">--log-level</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">info</span></code></p></td>
<td><p>Set the logging level. Use warning or lower to supress most of the logging. (<code class="docutils literal notranslate"><span class="pre">debug</span></code>, <code class="docutils literal notranslate"><span class="pre">info</span></code>, <code class="docutils literal notranslate"><span class="pre">warning</span></code>, <code class="docutils literal notranslate"><span class="pre">error</span></code>).</p></td>
</tr>
</tbody>
</table>
<section id="handler-specific-arguments">
<h3>Handler-Specific Arguments<a class="headerlink" href="#handler-specific-arguments" title="Link to this heading"></a></h3>
<p>These arguments are only used when the corresponding handler is enabled via <code class="docutils literal notranslate"><span class="pre">--output-handlers</span></code>.</p>
<section id="file-handler">
<h4><code class="docutils literal notranslate"><span class="pre">file</span></code> handler<a class="headerlink" href="#file-handler" title="Link to this heading"></a></h4>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Argument</p></th>
<th class="head"><p>Default</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">--file-name</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">transcriptions.txt</span></code></p></td>
<td><p>The name of the file to save transcriptions to.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">--file-no-timestamp</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">False</span></code></p></td>
<td><p>If set, timestamps will not be added to the output file.</p></td>
</tr>
</tbody>
</table>
</section>
<section id="http-post-handler">
<h4><code class="docutils literal notranslate"><span class="pre">http_post</span></code> handler<a class="headerlink" href="#http-post-handler" title="Link to this heading"></a></h4>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Argument</p></th>
<th class="head"><p>Default</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">--http-post-url</span></code></p></td>
<td><p>(Required)</p></td>
<td><p>The URL to which the transcription text will be POSTed.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">--http-post-format</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">json</span></code></p></td>
<td><p>The format of the POST request body (<code class="docutils literal notranslate"><span class="pre">json</span></code> or <code class="docutils literal notranslate"><span class="pre">raw</span></code>).</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">--http-post-header</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">None</span></code></p></td>
<td><p>A JSON string of key/value pairs for request headers (e.g., <code class="docutils literal notranslate"><span class="pre">'{&quot;Authorization&quot;:</span> <span class="pre">&quot;Bearer</span> <span class="pre">YOUR_TOKEN&quot;}'</span></code>).</p></td>
</tr>
</tbody>
</table>
</section>
<section id="ros2-handler">
<h4><code class="docutils literal notranslate"><span class="pre">ros2</span></code> handler<a class="headerlink" href="#ros2-handler" title="Link to this heading"></a></h4>
<p>For ROS (Robot Operating System) users.</p>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Argument</p></th>
<th class="head"><p>Default</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">--ros2-topic</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">transcription</span></code></p></td>
<td><p>The ROS2 topic to publish transcriptions to.</p></td>
</tr>
</tbody>
</table>
</section>
</section>
</section>
<section id="robust-configuration-examples">
<h2>Robust Configuration Examples<a class="headerlink" href="#robust-configuration-examples" title="Link to this heading"></a></h2>
<p>Here are some examples of how to configure <code class="docutils literal notranslate"><span class="pre">vox</span></code> for different scenarios, building on the basic command:
<code class="docutils literal notranslate"><span class="pre">python</span> <span class="pre">-m</span> <span class="pre">vox.cli</span> <span class="pre">--model-dir</span> <span class="pre">./models</span> <span class="pre">--model</span> <span class="pre">medium</span> <span class="pre">--lang</span> <span class="pre">de</span> <span class="pre">--rms</span> <span class="pre">--output-handlers</span> <span class="pre">stdout</span> <span class="pre">ros2</span> <span class="pre">--ros2-topic</span> <span class="pre">/you/llm_prompt</span></code></p>
<section id="reducing-hallucinations-repetitions">
<h3>1. Reducing Hallucinations (Repetitions)<a class="headerlink" href="#reducing-hallucinations-repetitions" title="Link to this heading"></a></h3>
<p>If the model gets stuck repeating the same phrase or hallucinating silence, try increasing the temperature slightly and disabling conditioning on previous text.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>python<span class="w"> </span>-m<span class="w"> </span>vox.cli<span class="w"> </span>...<span class="w"> </span>--temperature<span class="w"> </span><span class="m">0</span>.2<span class="w"> </span>--no-condition-on-previous-text
</pre></div>
</div>
</section>
<section id="improving-context-and-style">
<h3>2. Improving Context and Style<a class="headerlink" href="#improving-context-and-style" title="Link to this heading"></a></h3>
<p>Use <code class="docutils literal notranslate"><span class="pre">--initial-prompt</span></code> to tell the model about the context (e.g., technical terms, specific spelling) or the desired style.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>python<span class="w"> </span>-m<span class="w"> </span>vox.cli<span class="w"> </span>...<span class="w"> </span>--initial-prompt<span class="w"> </span><span class="s2">&quot;Dies ist ein Transkript über Robotik und ROS2.&quot;</span>
</pre></div>
</div>
</section>
<section id="maximizing-accuracy-slower">
<h3>3. Maximizing Accuracy (Slower)<a class="headerlink" href="#maximizing-accuracy-slower" title="Link to this heading"></a></h3>
<p>Increase the <code class="docutils literal notranslate"><span class="pre">beam-size</span></code> to explore more decoding paths. This will increase latency but may improve accuracy for complex sentences.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>python<span class="w"> </span>-m<span class="w"> </span>vox.cli<span class="w"> </span>...<span class="w"> </span>--beam-size<span class="w"> </span><span class="m">10</span>
</pre></div>
</div>
</section>
<section id="low-resource-compatibility-mode">
<h3>4. Low-Resource / Compatibility Mode<a class="headerlink" href="#low-resource-compatibility-mode" title="Link to this heading"></a></h3>
<p>If you encounter errors related to FP16 on older hardware, force FP32.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>python<span class="w"> </span>-m<span class="w"> </span>vox.cli<span class="w"> </span>...<span class="w"> </span>--no-fp16
</pre></div>
</div>
</section>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="voskros.html" class="btn btn-neutral float-left" title="ROS Package VoskRos" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="../autoapi/index.html" class="btn btn-neutral float-right" title="API Reference" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright BobRos.</p>
  </div>

   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>